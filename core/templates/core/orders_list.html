{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container quantum-orders">
    <!-- Крутой техно-заголовок -->
    <div class="text-center mb-5">
        <h1 class="glow-text quantum-title">
            <i class="fas fa-clipboard-list quantum-icon"></i>
            {{ title }}
        </h1>
        <div class="quantum-badge">
            <span class="badge bg-quantum">АКТИВНЫХ МИССИЙ: {{orders|length}}</span>
        </div>
    </div>

    <!-- Поисковая форма -->
    <div class="quantum-search-card mb-4 p-4">
        <form method="GET" class="row g-3 align-items-center">
            <div class="col-md-4">
                <div class="form-check quantum-checkbox">
                    <input class="form-check-input" 
                        type="checkbox" 
                        name="search_in" 
                        value="name" 
                        id="search_name" 
                        {% if 'name' in request.GET.search_in or not request.GET %}checked{% endif %}>
                    <label class="form-check-label glow-text" for="search_name">
                        <i class="fas fa-user quantum-icon me-2"></i>По имени
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-check quantum-checkbox">
                    <input class="form-check-input" 
                        type="checkbox" 
                        name="search_in" 
                        value="phone" 
                        id="search_phone"
                        {% if 'phone' in request.GET.search_in %}checked{% endif %}>
                    <label class="form-check-label glow-text" for="search_phone">
                        <i class="fas fa-phone quantum-icon me-2"></i>По телефону
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-check quantum-checkbox">
                    <input class="form-check-input" 
                        type="checkbox" 
                        name="search_in" 
                        value="comment" 
                        id="search_comment"
                        {% if 'comment' in request.GET.search_in %}checked{% endif %}>
                    <label class="form-check-label glow-text" for="search_comment">
                        <i class="fas fa-comment quantum-icon me-2"></i>По комментарию
                    </label>
                </div>
            </div>
            <div class="col-12">
                <div class="input-group">
                    <input type="text" 
                        class="form-control quantum-search-input" 
                        name="q" 
                        placeholder="Квантовый поиск..." 
                        value="{{ request.GET.q }}">
                    <button type="submit" class="btn btn-quantum-pulse">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
    </div>

    <!-- Три колонки заказов -->
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for order in orders %}
        <div class="col">
            {% include "core/includes/order_card_include.html" %}            
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}